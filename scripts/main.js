var productList=document.querySelector(".product"),cardList=productList.querySelectorAll(".product__card"),checkboxList=productList.querySelectorAll("input[type=checkbox]");function getParent(e,t,r){for(var c=t,o=r;c!==r;)c.classList.contains(e)&&(o=c),c=c.parentNode;return o}function getInternetExplorerVersion(){var e=-1,t=navigator.userAgent,r=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),c=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");return"Microsoft Internet Explorer"===navigator.appName?null!==r.exec(t)&&(e=parseFloat(RegExp.$1)):"Netscape"===navigator.appName&&null!==c.exec(t)&&(e=parseFloat(RegExp.$1)),e}function isIE(){return-1!==getInternetExplorerVersion()}function generateEvent(e,t){var r=document.createEvent("Event");r.initEvent(e,!0,!0),t.dispatchEvent(r)}!isIE()&&NodeList.prototype.forEach||(NodeList.prototype.forEach=function(e,t){for(var r=t||window,c=0;c<this.length;c+=1)e.call(r,this[c],c,this)}),checkboxList.forEach(function(e){var t=e;Math.round(Math.random())||t.setAttribute("disabled",""),t.addEventListener("focusin",function(){var e=getParent("label__text",t,productList);e.classList.add("label__text_focused"),t.addEventListener("focusout",function(){e.classList.remove("label__text_focused")})})}),productList.addEventListener("change",function(e){var t=getParent("product__item",e.target,productList),r=t.querySelector(".product__card");r.classList.toggle("product__card_checked"),t.querySelector(".product__desc_kind_spec").classList.toggle("hidden"),t.querySelector(".product__desc_kind_caption").classList.toggle("hidden"),r.classList.add("product__card_mouseon"),r.addEventListener("mouseenter",function e(t){r.classList.remove("product__card_mouseon"),r.removeEventListener(t,e)})}),checkboxList.forEach(function(e){if(e.disabled){var t=getParent("product__item",e,productList);t.classList.toggle("product__item_disabled"),t.querySelector(".product__desc_kind_spec").classList.add("hidden"),t.querySelector(".product__desc_kind_caption").classList.add("hidden")}}),cardList.forEach(function(t){var e=t.getAttribute("data-product-type"),r=productList.querySelector("#"+String(e));r.disabled||t.addEventListener("click",function(e){e.preventDefault(),r.checked=!r.checked,generateEvent("change",t),r.getAttribute("checked")?r.removeAttribute("checked"):r.setAttribute("checked","true")})});